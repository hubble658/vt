<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="700.0" prefWidth="1200.0" stylesheets="@../../../css/styles.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.studyflow.app.gui.user.reservation.UserReservationsController">

    <!-- HEADER -->
    <top>
        <HBox styleClass="header-bar" spacing="24">
            <Button text="← Dashboard" onAction="#handleBack" styleClass="big-back-button" />

            <VBox spacing="4" alignment="CENTER_LEFT">
                <Label text="My Reservations" style="-fx-font-size: 28px; -fx-font-weight: 800; -fx-text-fill: #1e293b;" />
                <Label text="View and manage your study space bookings" style="-fx-font-size: 14px; -fx-text-fill: #64748b;" />
            </VBox>

            <Region HBox.hgrow="ALWAYS" />

            <VBox alignment="CENTER_RIGHT" spacing="4" style="-fx-padding: 0 10;">
                <Label text="Signed in as" style="-fx-font-size: 11px; -fx-text-fill: #94a3b8;" />
                <Label fx:id="userNameLabel" text="User Name" style="-fx-font-size: 16px; -fx-font-weight: 600; -fx-text-fill: #1e293b;" />
            </VBox>
        </HBox>
    </top>

    <!-- CENTER: BUTONLAR VE LISTE -->
    <center>
        <StackPane style="-fx-background-color: #f8fafc;">

            <VBox alignment="TOP_CENTER" maxWidth="850" spacing="10" style="-fx-padding: 30 20;">

                <!-- GECIS BUTONLARI -->
                <HBox styleClass="toggle-bar">
                    <ToggleButton fx:id="btnActive" text="Active Reservations" selected="true" styleClass="reservation-toggle-btn">
                        <toggleGroup>
                            <ToggleGroup fx:id="viewToggleGroup"/>
                        </toggleGroup>
                    </ToggleButton>

                    <ToggleButton fx:id="btnExpired" text="Past Reservations" toggleGroup="$viewToggleGroup" styleClass="reservation-toggle-btn" />
                </HBox>

                <!-- İÇERİK ALANI -->
                <StackPane VBox.vgrow="ALWAYS">

                    <!-- ACTIVE LIST -->
                    <ScrollPane fx:id="scrollActive" fitToWidth="true" hbarPolicy="NEVER" 
                                style="-fx-background-color: transparent; -fx-background: transparent;" visible="true">
                        <content>
                            <VBox alignment="TOP_CENTER" style="-fx-padding: 10 0 30 0;">
                                <VBox fx:id="activeContainer" spacing="16" alignment="TOP_CENTER" maxWidth="780" />
                            </VBox>
                        </content>
                    </ScrollPane>

                    <!-- EXPIRED LIST -->
                    <ScrollPane fx:id="scrollExpired" fitToWidth="true" hbarPolicy="NEVER" 
                                style="-fx-background-color: transparent; -fx-background: transparent;" visible="false">
                        <content>
                            <VBox alignment="TOP_CENTER" style="-fx-padding: 10 0 30 0;">
                                <VBox fx:id="pastContainer" spacing="16" alignment="TOP_CENTER" maxWidth="780" />
                            </VBox>
                        </content>
                    </ScrollPane>

                </StackPane>
            </VBox>
        </StackPane>
    </center>

</BorderPane>